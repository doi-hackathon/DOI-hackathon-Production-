<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments/head :: head('Create an event')">
	<meta charset="UTF-8">
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;1,100&family=Oxygen&display=swap" rel="stylesheet">
</head>
<body>
<div sec:authorize="isAuthenticated()">
	<div th:if="${#authentication.principal.isAdmin()}">
		<div class="container">
			<h2 id="edit-event-header" class="d-flex justify-content-center" style="font-family: Oxygen, sans-serif;">Edit an event</h2>
			<form th:action="${'/events/' + event.id + '/edit'}" th:method="POST" th:object="${event}">
				<div class="row justify-content-center">
					<div class="form-group col-md-6">
						<label for="formGroupExampleInput">Title</label>
						<input type="text" name="title" class="form-control" id="formGroupExampleInput" th:field="*{title}">
					</div>
				</div>
				<div class="row justify-content-center">
					<div class="form-group col-md-6">
						<label for="formGroupExampleInput2">Location</label>
						<input type="text" name="location" class="form-control" id="formGroupExampleInput2" th:field="*{location}">
					</div>
				</div>
				<div class="row justify-content-center">
					<div class='col-md-6'>
						<div class="form-group">
							<label class="control-label">Event Time</label>
							<div class='input-group date' id='datetimepicker1'>
								<input type='text' class="form-control" name="dateTime" th:field="*{dateAndTime}"/>
								<span class="input-group-addon">
                                 <span class="glyphicon glyphicon-calendar"></span>
                                 </span>
							</div>
						</div>
					</div>
				</div>
				<div class="row justify-content-center">
					<div class="form-group col-md-6">
						<label for="formGroupExampleInput4">Description</label>
						<textarea rows="7" name="description" class="form-control" id="formGroupExampleInput4" th:field="*{description}"></textarea>
					</div>
				</div>
				<div class="row justify-content-center">
					<div class="form-group col-md-6">
						<label for="formGroupExampleInput5">Link</label>
						<input type="text" name="link" class="form-control" id="formGroupExampleInput5" th:field="*{link}">
					</div>
				</div>
				<div class="row justify-content-center">
					<div class="form-group col-md-6">
						<label for="formGroupExampleInput6">Volunteer Goal</label>
						<input type="text" name="volunteerGoal" class="form-control" id="formGroupExampleInput6" th:field="*{volunteerGoal}">
					</div>
				</div>
				<div class="row justify-content-center">
					<button type="submit" class="btn btn-primary mb-2 mr-2">Update event</button>
					<button form="delete-form" type="submit" class="btn btn-danger mb-2">Delete</button>
				</div>
			</form>
			<form id="delete-form" th:action="${'/events/' + event.id + '/delete'}" th:method="POST"></form>
		</div>
	</div>
</div>
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/momentjs/2.14.1/moment.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

<script>
	$(function () {
		$('#datetimepicker1').datetimepicker();
	});
</script>
<br><br>
</body>
</html>